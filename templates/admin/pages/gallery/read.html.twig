{% extends 'admin/pages/gallery/template.html.twig' %}

{% set page_title %}Galerie de {{ album.title }}{% endset %}
{% set page_subtitle %}{{ album.title }} au {{ album.dateAt | date("d/m/Y") }}.{% endset %}

{% set page_actions %}
    {% include 'layout/components/tailwind/buttons/button.html.twig' with {
        btn_link: path('admin_galleries_index'),
        btn_type: 'default',
        btn_icon: 'left-arrow',
        btn_text: 'Retourner à la liste'
    } %}
{% endset %}

{% block main_content %}
    <div class="mt-10 flex flex-col gap-8 min-h-[calc(100vh-100px-80px)]">
        <div class="flex flex-col gap-2">
            <p class="text-center">Les photos sont triées par nombre de téléchargements.</p>
            {% if app.request.query.get('sortBy') == "name" %}
                <a href="{{ path('admin_galleries_read', {id: album.id}) }}"
                   class="text-center text-sm text-blue-500 hover:text-blue-700 underline"
                >
                    Trier par ordre de téléchargement
                </a>
            {% else %}
                <a href="{{ path('admin_galleries_read', {id: album.id, sortBy: 'name'}) }}"
                   class="text-center text-sm text-blue-500 hover:text-blue-700 underline"
                >
                    Trier par ordre normal
                </a>
            {% endif %}
        </div>
        <div id="gallery_index"
             data-is-admin="1"
             data-album-id="{{ album.id }}"
             data-sort-by="{{ app.request.query.get('sortBy') ? app.request.query.get('sortBy') : "dl" }}"
        ></div>
    </div>
{% endblock %}
